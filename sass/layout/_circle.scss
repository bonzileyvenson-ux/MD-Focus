$circle-size: 15rem;
$stroke-width: 8; // A espessura do anel
$raio: 45;
// Circunferência (2 * PI * Raio): 2 * 3.14159 * 45 = ~283

.progress-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 0 1 auto; // Não cresce, usa espaço necessário
  width: 100%;
  min-height: 0;
  padding: 1rem 0; // Padding reduzido para não ocupar muito espaço
  position: relative; // Para posicionar o reflexo

  @include any-landscape {
    padding: 0.5rem 0;
  }

  @include landscape-desktop {
    padding: 1.5rem 0;
  }

  // Efeito de brilho inferior moderno
  &::after {
    content: "";
    position: absolute;
    bottom: -1rem;
    left: 50%;
    transform: translateX(-50%);
    width: 40%;
    height: 3rem;
    background: linear-gradient(
      to bottom,
      rgba(0, 123, 255, 0.63),
      rgba(0, 123, 255, 0.438),
      transparent
    );
    border-radius: 50%;
    pointer-events: none;
    filter: blur(15px);
    z-index: -1;
    opacity: 0.8;
  }

  // Segundo efeito: linha de luz na base
  &::before {
    content: "";
    position: absolute;
    bottom: -0.5rem;
    left: 50%;
    transform: translateX(-50%);
    width: 30%;
    height: 0.3rem;
    background: linear-gradient(
      to right,
      transparent,
      rgba(0, 200, 255, 0.6),
      rgba(0, 123, 255, 0.8),
      rgba(0, 200, 255, 0.6),
      transparent
    );
    border-radius: 50%;
    filter: blur(2px);
    z-index: -1;
    box-shadow: 0 0 10px rgba(0, 123, 255, 0.5);
  }
}

.progress-container {
  position: relative;
  // Tamanho responsivo: usa o menor valor entre largura disponível e altura disponível
  // Portrait: usa mais espaço vertical disponível
  width: min(50vw, 28vh, 18rem);
  height: min(50vw, 28vh, 18rem);
  margin: 0 auto;
  flex-shrink: 0;

  // Sombra múltipla para destaque intenso
  filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4))
    drop-shadow(0 12px 24px rgba(0, 123, 255, 0.25))
    drop-shadow(0 0 20px rgba(0, 123, 255, 0.15));

  @include any-landscape {
    width: min(28vw, 22vh, 13rem);
    height: min(28vw, 22vh, 13rem);
  }

  @include landscape-desktop {
    width: min(25vw, 35vh, 20rem);
    height: min(25vw, 35vh, 20rem);
  }
}

svg {
  transform: rotate(-90deg);
}

.progress-track {
  fill: none;
  stroke: #e0f2f1;
  stroke-width: $stroke-width;
}

.progress-fill {
  fill: none;
  stroke: #007bff;
  stroke-width: $stroke-width;

  stroke-dasharray: 283;

  stroke-dashoffset: 283;

  transition: stroke-dashoffset 0.8s ease-in-out;

  stroke-linecap: butt;
}

.progress-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: clamp(1.6rem, 4vw, 2.4rem);
  font-weight: bold;
  color: #333;
}
